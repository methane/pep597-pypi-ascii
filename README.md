# Survey for PEP 597

## Packages can't be installed when encoding is not UTF-8

Files:

* `stats.json` -- Top 4000 projects downloaded from PyPI. It is from https://hugovk.github.io/top-pypi-packages/top-pypi-packages-30-days.json
* `nonascii.txt` -- Projects with non-ASCII README in `stats.json`.  Generated by `1_find_nonascii_packages.py`.
* `2_check_install.py` -- Try installing packages in `nonascii.txt`.
* `with-ascii.txt` -- Output of `2_check_install.py` in ASCII locale.
* `with-utf8.txt` -- Output of `2_check_install.py` in UTF-8 locale.
* `failed-ascii.txt` -- Packages failed to install in ASCII locale.
* `failed-utf8.txt` -- Packages failed to install in UTF-8 locale.

```
$ grep  -c "UnicodeDecodeError: 'ascii' codec" with-ascii.txt
82
$ grep  -c "UnicodeDecodeError: 'ascii' codec" with-utf8.txt
0
```

About 82 packages failed to install due to omit `encoding="utf-8"`.
